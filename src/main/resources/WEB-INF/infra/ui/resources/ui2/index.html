<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" href="bundles/all-vendors.css">

<script src="bundles/all-vendors.js"></script>

<!-- Favicon -->
<link rel="icon" type="image/png" href="/images/favicon.png" />
<link rel="shortcut icon" type="image/png" href="/images/favicon.png" />

<title>Foilen Infra UI</title>
</head>

<body>

  <!-- container-fluid  -->
  <div class="container-fluid" id="app">

    <!-- errors -->
    <div class="row">
      <div id="errors"></div>
    </div>
    <!-- /errors -->
    
    <!-- successes -->
    <div class="row">
      <div id="successes"></div>
    </div>
    <!-- /successes -->

    <!-- Nav Bar -->
    <nav id="main-nav" class="navbar navbar-expand-sm navbar-light bg-light">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <span class="navbar-brand mb-0 h1">FoilenInfra</span>

      <div class="collapse navbar-collapse" id="navbarToggler">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item"><router-link class="nav-link" to="/" v-bind:class="{active: $route.path == '/'}">{{ $t('menu.home') }}</router-link></li>

          <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="infraDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{ $t('menu.infrastructure') }}</a>
            <div class="dropdown-menu" aria-labelledby="infraDropdown">
              <a class="dropdown-item" href="/machineGraphics/list">{{ $t('menu.machineGraphics') }}</a>
              <a class="dropdown-item" href="/machineBootstrap/list">{{ $t('menu.machineBootstrap') }}</a>
            </div>
          </li>

          <li class="nav-item"><a href="/plugin/list" class="nav-link" >{{ $t('menu.plugin') }}</a></li>
          <li class="nav-item"><a href="/pluginresources/list" class="nav-link" >{{ $t('menu.pluginresources') }}</a></li>
          
          <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{ $t('menu.users') }}</a>
            <div class="dropdown-menu" aria-labelledby="userDropdown">
              <router-link class="dropdown-item" to="/roles" v-bind:class="{active: $route.path == '/roles'}">{{ $t('menu.roles') }}</router-link>
              <router-link class="dropdown-item" to="/ownerRules" v-bind:class="{active: $route.path == '/ownerRules'}">{{ $t('menu.ownerRules') }}</router-link>
              <router-link class="dropdown-item" to="/userHumans" v-bind:class="{active: $route.path == '/userHumans'}">{{ $t('menu.userHumans') }}</router-link>
              <router-link class="dropdown-item" to="/userApis" v-bind:class="{active: $route.path == '/userApis'}">{{ $t('menu.userApis') }}</router-link>
            </div>
          </li>
          
          <li class="nav-item"><router-link class="nav-link" to="/audits" v-bind:class="{active: $route.path == '/audits'}">{{ $t('menu.audits') }}</router-link></li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" v-on:click="changeLang()">{{ $t('navbar.nextlang.name') }}</a></li>
        </ul>
      </div>
    </nav>
    <!-- /Nav Bar -->

    <!-- User details -->
    <div class="row">
      <div class="col-12" style="text-align: right">
        {{appDetails.userEmail}} <span v-if="appDetails.userAdmin"> (ADMIN) </span>
      </div>
    </div>
    <!-- /User details -->

    <!-- content -->
    <div>
      <router-view></router-view>
    </div>
    <!-- /content -->

    <!-- footer -->
    <hr />
    <footer>
      <p>
        &copy; <a href="https://foilen.com" target="_blank">Foilen</a> 2017-2021
      </p>
      <p>Infra UI Version: {{appDetails.version}}</p>
    </footer>

  </div>
  <!-- /container-fluid  -->

  <script src="bundles/all-app.js"></script>

</body>
</html>
